(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{454:function(t,e,r){"use strict";var n=r(463);e.a=n.a},536:function(t,e,r){var content=r(537);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(22).default)("735d40bc",content,!0,{sourceMap:!1})},537:function(t,e,r){var n=r(21)((function(i){return i[1]}));n.push([t.i,".theme--light.v-file-input .v-file-input__text{color:rgba(0,0,0,.87)}.theme--light.v-file-input .v-file-input__text--placeholder{color:rgba(0,0,0,.6)}.theme--light.v-file-input.v-input--is-disabled .v-file-input__text,.theme--light.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:rgba(0,0,0,.38)}.theme--dark.v-file-input .v-file-input__text{color:#fff}.theme--dark.v-file-input .v-file-input__text--placeholder{color:hsla(0,0%,100%,.7)}.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text,.theme--dark.v-file-input.v-input--is-disabled .v-file-input__text .v-file-input__text--placeholder{color:hsla(0,0%,100%,.5)}.v-file-input input[type=file]{left:0;max-width:0;opacity:0;pointer-events:none;position:absolute;width:0}.v-file-input .v-file-input__text{align-items:center;align-self:stretch;display:flex;flex-wrap:wrap;width:100%}.v-file-input .v-file-input__text.v-file-input__text--chips{flex-wrap:wrap}.v-file-input .v-file-input__text .v-chip{margin:4px}.v-file-input .v-text-field__slot{min-height:32px}.v-file-input.v-input--dense .v-text-field__slot{min-height:26px}.v-file-input.v-text-field--filled:not(.v-text-field--single-line) .v-file-input__text{padding-top:22px}.v-file-input.v-text-field--outlined .v-text-field__slot{padding:6px 0}.v-file-input.v-text-field--outlined.v-input--dense .v-text-field__slot{padding:3px 0}",""]),n.locals={},t.exports=n},551:function(t,e,r){"use strict";function n(t,e,r){return t(r={path:e,exports:{},require:function(path,base){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==base&&r.path)}},r.exports),r.exports}r.d(e,"a",(function(){return Ve}));var o=n((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),h=n((function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)})),l=function(t){return"object"==typeof t?null!==t:"function"==typeof t},c=function(t){if(!l(t))throw TypeError(t+" is not an object!");return t},d=function(t){try{return!!t()}catch(t){return!0}},f=!d((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),y=o.document,m=l(y)&&l(y.createElement),v=function(t){return m?y.createElement(t):{}},w=!f&&!d((function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})),K=Object.defineProperty,x={f:f?Object.defineProperty:function(t,e,r){if(c(t),e=function(t,e){if(!l(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!l(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!l(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!l(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(e,!0),c(r),w)try{return K(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},R=f?function(object,t,e){return x.f(object,t,O(1,e))}:function(object,t,e){return object[t]=e,object},I={}.hasOwnProperty,F=function(t,e){return I.call(t,e)},$=0,k=Math.random(),E=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++$+k).toString(36))},S=n((function(t){var e="__core-js_shared__",r=o[e]||(o[e]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:h.version,mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),j=S("native-function-to-string",Function.toString),A=n((function(t){var e=E("src"),r="toString",n=(""+j).split(r);h.inspectSource=function(t){return j.call(t)},(t.exports=function(t,r,h,l){var c="function"==typeof h;c&&(F(h,"name")||R(h,"name",r)),t[r]!==h&&(c&&(F(h,e)||R(h,e,t[r]?""+t[r]:n.join(String(r)))),t===o?t[r]=h:l?t[r]?t[r]=h:R(t,r,h):(delete t[r],R(t,r,h)))})(Function.prototype,r,(function(){return"function"==typeof this&&this[e]||j.call(this)}))})),C=function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(r){case 1:return function(a){return t.call(e,a)};case 2:return function(a,b){return t.call(e,a,b)};case 3:return function(a,b,r){return t.call(e,a,b,r)}}return function(){return t.apply(e,arguments)}},M="prototype",P=function(t,e,source){var r,n,l,c,d=t&P.F,f=t&P.G,y=t&P.S,m=t&P.P,v=t&P.B,w=f?o:y?o[e]||(o[e]={}):(o[e]||{})[M],K=f?h:h[e]||(h[e]={}),x=K[M]||(K[M]={});for(r in f&&(source=e),source)l=((n=!d&&w&&void 0!==w[r])?w:source)[r],c=v&&n?C(l,o):m&&"function"==typeof l?C(Function.call,l):l,w&&A(w,r,l,t&P.U),K[r]!=l&&R(K,r,c),m&&x[r]!=l&&(x[r]=l)};o.core=h,P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128;var _=P,B={}.toString,H=function(t){return B.call(t).slice(8,-1)},T=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==H(t)?t.split(""):Object(t)},z=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},N=function(t){return T(z(t))},V=Math.ceil,D=Math.floor,U=function(t){return isNaN(t=+t)?0:(t>0?D:V)(t)},L=Math.min,W=function(t){return t>0?L(U(t),9007199254740991):0},J=Math.max,Q=Math.min,G=function(t){return function(e,r,n){var o,h=N(e),l=W(h.length),c=function(t,e){return(t=U(t))<0?J(t+e,0):Q(t,e)}(n,l);if(t&&r!=r){for(;l>c;)if((o=h[c++])!=o)return!0}else for(;l>c;c++)if((t||c in h)&&h[c]===r)return t||c||0;return!t&&-1}},Y=n((function(t){var e=S("wks"),r=o.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:E)("Symbol."+t))}).store=e})),X=Y("unscopables"),Z=Array.prototype;null==Z[X]&&R(Z,X,{});var tt=function(t){Z[X][t]=!0},et=G(!0);_(_.P,"Array",{includes:function(t){return et(this,t,arguments.length>1?arguments[1]:void 0)}}),tt("includes"),h.Array.includes;var it=S("keys"),nt=function(t){return it[t]||(it[t]=E(t))},st=G(!1),ot=nt("IE_PROTO"),at="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ht=Object.keys||function(t){return function(object,t){var e,r=N(object),i=0,n=[];for(e in r)e!=ot&&F(r,e)&&n.push(e);for(;t.length>i;)F(r,e=t[i++])&&(~st(n,e)||n.push(e));return n}(t,at)},lt={f:Object.getOwnPropertySymbols},ct={f:{}.propertyIsEnumerable},ut=function(t){return Object(z(t))},pt=Object.assign,ft=!pt||d((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=pt({},t)[r]||Object.keys(pt({},e)).join("")!=n}))?function(t,source){for(var e=ut(t),r=arguments.length,n=1,o=lt.f,h=ct.f;r>n;)for(var l,c=T(arguments[n++]),d=o?ht(c).concat(o(c)):ht(c),y=d.length,m=0;y>m;)l=d[m++],f&&!h.call(c,l)||(e[l]=c[l]);return e}:pt;_(_.S+_.F,"Object",{assign:ft}),h.Object.assign;var yt=ct.f,mt=function(t){return function(e){for(var r,n=N(e),o=ht(n),h=o.length,i=0,l=[];h>i;)r=o[i++],f&&!yt.call(n,r)||l.push(t?[r,n[r]]:n[r]);return l}},gt=mt(!0);_(_.S,"Object",{entries:function(t){return gt(t)}}),h.Object.entries;var vt=mt(!1);_(_.S,"Object",{values:function(t){return vt(t)}}),h.Object.values;var bt=Y("match"),wt=function(t,e,r){if(l(n=e)&&(void 0!==(o=n[bt])?o:"RegExp"==H(n)))throw TypeError("String#"+r+" doesn't accept regex!");var n,o;return String(z(t))},Kt=Y("match"),xt="startsWith",Ot=""[xt];_(_.P+_.F*function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Kt]=!1,!"/./"[t](e)}catch(t){}}return!0}(xt),"String",{startsWith:function(t){var e=wt(this,t,xt),r=W(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return Ot?Ot.call(e,n,r):e.slice(r,r+n.length)===n}}),h.String.startsWith;var Rt={},It=f?Object.defineProperties:function(t,e){c(t);for(var r,n=ht(e),o=n.length,i=0;o>i;)x.f(t,r=n[i++],e[r]);return t},Ft=o.document,$t=Ft&&Ft.documentElement,kt=nt("IE_PROTO"),Et=function(){},St="prototype",jt=function(){var t,iframe=v("iframe"),i=at.length;for(iframe.style.display="none",$t.appendChild(iframe),iframe.src="javascript:",(t=iframe.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),jt=t.F;i--;)delete jt[St][at[i]];return jt()},At=Object.create||function(t,e){var r;return null!==t?(Et[St]=c(t),r=new Et,Et[St]=null,r[kt]=t):r=jt(),void 0===e?r:It(r,e)},Ct=x.f,Mt=Y("toStringTag"),Pt=function(t,e,r){t&&!F(t=r?t:t.prototype,Mt)&&Ct(t,Mt,{configurable:!0,value:e})},_t={};R(_t,Y("iterator"),(function(){return this}));var Bt,Ht=function(t,e,r){t.prototype=At(_t,{next:O(1,r)}),Pt(t,e+" Iterator")},Tt=nt("IE_PROTO"),zt=Object.prototype,Nt=Object.getPrototypeOf||function(t){return t=ut(t),F(t,Tt)?t[Tt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?zt:null},Vt=Y("iterator"),Dt=!([].keys&&"next"in[].keys()),Ut="keys",Lt="values",Wt=function(){return this},Jt=(Bt=!0,function(t,e){var a,b,s=String(z(t)),i=U(e),r=s.length;return i<0||i>=r?Bt?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===r||(b=s.charCodeAt(i+1))<56320||b>57343?Bt?s.charAt(i):a:Bt?s.slice(i,i+2):b-56320+(a-55296<<10)+65536});!function(t,e,r,n,o,h,l){Ht(r,e,n);var c,d,f,y=function(t){if(!Dt&&t in K)return K[t];switch(t){case Ut:case Lt:return function(){return new r(this,t)}}return function(){return new r(this,t)}},m=e+" Iterator",v=o==Lt,w=!1,K=t.prototype,x=K[Vt]||K["@@iterator"]||o&&K[o],O=x||y(o),I=o?v?y("entries"):O:void 0,F="Array"==e&&K.entries||x;if(F&&(f=Nt(F.call(new t)))!==Object.prototype&&f.next&&(Pt(f,m,!0),"function"!=typeof f[Vt]&&R(f,Vt,Wt)),v&&x&&x.name!==Lt&&(w=!0,O=function(){return x.call(this)}),(Dt||w||!K[Vt])&&R(K,Vt,O),Rt[e]=O,Rt[m]=Wt,o)if(c={values:v?O:y(Lt),keys:h?O:y(Ut),entries:I},l)for(d in c)d in K||A(K,d,c[d]);else _(_.P+_.F*(Dt||w),e,c)}(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=Jt(e,r),this._i+=t.length,{value:t,done:!1})}));var qt=function(t,e,r,n){try{return n?e(c(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&c(o.call(t)),e}},Qt=Y("iterator"),Gt=Array.prototype,Yt=function(object,t,e){t in object?x.f(object,t,O(0,e)):object[t]=e},Xt=Y("toStringTag"),Zt="Arguments"==H(function(){return arguments}()),te=Y("iterator"),ee=h.getIteratorMethod=function(t){if(null!=t)return t[te]||t["@@iterator"]||Rt[function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Xt))?r:Zt?H(e):"Object"==(n=H(e))&&"function"==typeof e.callee?"Arguments":n}(t)]},ie=Y("iterator"),re=!1;try{var ne=[7][ie]();ne.return=function(){re=!0},Array.from(ne,(function(){throw 2}))}catch(t){}_(_.S+_.F*!function(t,e){if(!e&&!re)return!1;var r=!1;try{var n=[7],o=n[ie]();o.next=function(){return{done:r=!0}},n[ie]=function(){return o},t(n)}catch(t){}return r}((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,n,o,h,l=ut(t),c="function"==typeof this?this:Array,d=arguments.length,f=d>1?arguments[1]:void 0,y=void 0!==f,m=0,v=ee(l);if(y&&(f=C(f,d>2?arguments[2]:void 0,2)),null!=v&&(c!=Array||(void 0===(h=v)||Rt.Array!==h&&Gt[Qt]!==h)))for(o=v.call(l),r=new c;!(n=o.next()).done;m++)Yt(r,m,y?qt(o,f,[n.value,m],!0):n.value);else for(r=new c(e=W(l.length));e>m;m++)Yt(r,m,y?f(l[m],m):l[m]);return r.length=m,r}}),h.Array.from;var se=Array.isArray||function(t){return"Array"==H(t)},oe=Y("species"),ae=function(t,e){return new(function(t){var e;return se(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!se(e.prototype)||(e=void 0),l(e)&&null===(e=e[oe])&&(e=void 0)),void 0===e?Array:e}(t))(e)},he=function(t,e){var r=1==t,n=2==t,o=3==t,h=4==t,l=6==t,c=5==t||l,d=e||ae;return function(e,f,y){for(var m,v,w=ut(e),K=T(w),x=C(f,y,3),O=W(K.length),R=0,I=r?d(e,O):n?d(e,0):void 0;O>R;R++)if((c||R in K)&&(v=x(m=K[R],R,w),t))if(r)I[R]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return R;case 2:I.push(m)}else if(h)return!1;return l?-1:o||h?h:I}}(5),le="find",ce=!0;le in[]&&Array(1)[le]((function(){ce=!1})),_(_.P+_.F*ce,"Array",{find:function(t){return he(this,t,arguments.length>1?arguments[1]:void 0)}}),tt(le),h.Array.find;class ue{static register(t){this.store=t}}function de(t){return Array.isArray(t)}function pe(t){return de(t)?t.length:Object.keys(t).length}function fe(object,t){const e=Object.assign({},object);return Object.keys(object).reduce(((e,r)=>(e[r]=t(object[r],r,object),e)),e)}function ye(t,e){if(t!==e){const r=void 0!==t,n=null===t,o=t==t,h=void 0!==e,l=null===e,c=e==e;if("number"==typeof t&&"number"==typeof e||(t=String(t),e=String(e)),!l&&t>e||n&&h&&c||!r&&c||!o)return 1;if(!n&&t<e||l&&r&&o||!h&&o||!c)return-1}return 0}var me={isArray:de,size:pe,isEmpty:function(t){return 0===pe(t)},forOwn:function(object,t){Object.keys(object).forEach((e=>t(object[e],e,object)))},map:function(object,t){const e=[];for(const r in object)e.push(t(object[r],r,object));return e},mapValues:fe,keyBy:function(t,e){const r={};return t.forEach((t=>{r[t[e]]=t})),r},orderBy:function(t,e,r){let n=-1;const o=t.map((t=>({criteria:e.map((e=>"function"==typeof e?e(t):t[e])),index:++n,value:t})));return function(t,e){let r=t.length;t.sort(e);const n=[];for(;r--;)n[r]=t[r].value;return n}(o,((object,t)=>function(object,t,e){let r=-1;const n=object.criteria,o=t.criteria,h=n.length,l=e.length;for(;++r<h;){const t=ye(n[r],o[r]);if(t){if(r>=l)return t;return t*("desc"===e[r]?-1:1)}}return object.index-t.index}(object,t,r)))},groupBy:function(t,e){return t.reduce(((t,r)=>{const n=e(r);return void 0===t[n]&&(t[n]=[]),t[n].push(r),t}),{})},cloneDeep:function t(e){if(null===e)return e;if(de(e)){const r=[];return e.forEach((t=>r.push(t))),r.map((e=>t(e)))}if("object"==typeof e&&e!=={}){const r={...e};return Object.keys(r).forEach((e=>r[e]=t(r[e]))),r}return e}};class ge{static make(){return this.count++,`${this.prefix}${this.count}`}static reset(){this.count=0}}ge.count=0,ge.prefix="$uid";class ve{constructor(t){this.model=t}}class be extends ve{constructor(t,e,r){super(t),this.isNullable=!1,this.value=e,this.mutator=r}nullable(){return this.isNullable=!0,this}mutate(t,e){const r=this.mutator||this.model.mutators()[e];return r?r(t):t}}class we extends be{constructor(t,e,r){super(t,e,r)}make(t,e,r){let n=t=void 0!==t?t:this.value;return"function"==typeof t&&(n=t()),this.mutate(n,r)}}class Ke extends be{constructor(t,e,r){super(t,e,r)}make(t,e,r){return this.mutate(this.fix(t),r)}fix(t){return void 0===t?this.value:"string"==typeof t||null===t&&this.isNullable?t:t+""}}class xe extends be{constructor(t,e,r){super(t,e,r)}make(t,e,r){return this.mutate(this.fix(t),r)}fix(t){return void 0===t?this.value:"number"==typeof t?t:"string"==typeof t?parseFloat(t):"boolean"==typeof t?t?1:0:null===t&&this.isNullable?t:0}}class Oe extends be{constructor(t,e,r){super(t,e,r)}make(t,e,r){return this.mutate(this.fix(t),r)}fix(t){if(void 0===t)return this.value;if("boolean"==typeof t)return t;if("string"==typeof t){if(0===t.length)return!1;const e=parseInt(t,0);return!!isNaN(e)||!!e}return"number"==typeof t?!!t:!(null!==t||!this.isNullable)&&t}}class Re extends be{constructor(t,e){super(t,e)}make(t){return"number"==typeof t||"string"==typeof t?t:"function"==typeof this.value?this.value():ge.make()}}class Ie extends ve{getRelation(t,e,r){const n=t.newQuery(e);return r.forEach((t=>{t(n)})),n}getKeys(t,e){return t.reduce(((t,r)=>(null===r[e]||void 0===r[e]||t.push(r[e]),t)),[])}mapSingleRelations(t,e){const r=new Map;return t.forEach((t=>{const n=t[e];!r.get(n)&&r.set(n,t)})),r}mapManyRelations(t,e){const r=new Map;return t.forEach((t=>{const n=t[e];let o=r.get(n);o||(o=[],r.set(n,o)),o.push(t)})),r}mapRelationsByOrders(t,e,r,n){const o={};return e.forEach(((e,h)=>{t.filter((t=>t[n]===h)).forEach((t=>{const n=t[r];o[n]||(o[n]=[]),o[n]=o[n].concat(e)}))})),o}isOneRelation(t){return!de(t)&&null!==t&&"object"==typeof t}isManyRelation(t){return!!de(t)&&!(t.length<1)}makeOneRelation(t,e){if(!this.isOneRelation(t))return null;return new(e.getModelFromRecord(t)||e)(t)}makeManyRelation(t,e){return this.isManyRelation(t)?t.filter((t=>this.isOneRelation(t))).map((t=>new(e.getModelFromRecord(t)||e)(t))):[]}}class Fe extends Ie{constructor(t,e,r,n){super(t),this.related=this.model.relation(e),this.foreignKey=r,this.localKey=n}define(t){return t.one(this.related)}attach(t,e,data){e[this.localKey]||(e[this.localKey]=this.model.getIndexIdFromRecord(e));const r=data[this.related.entity]&&data[this.related.entity][t];r&&(r[this.foreignKey]=e[this.localKey])}make(t,e,r){return this.makeOneRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n);this.addEagerConstraints(o,e),this.match(e,o.get(),r)}addEagerConstraints(t,e){t.whereFk(this.foreignKey,this.getKeys(e,this.localKey))}match(t,e,r){const n=this.buildDictionary(e);t.forEach((t=>{const e=t[this.localKey],o=n[e];t[r]=o||null}))}buildDictionary(t){return t.reduce(((t,e)=>(t[e[this.foreignKey]]=e,t)),{})}}class $e extends Ie{constructor(t,e,r,n){super(t),this.parent=this.model.relation(e),this.foreignKey=r,this.ownerKey=n}define(t){return t.one(this.parent)}attach(t,e,data){void 0===e[this.foreignKey]&&(e[this.foreignKey]=data[this.parent.entity]&&data[this.parent.entity][t]?data[this.parent.entity][t][this.ownerKey]:t)}make(t,e,r){return this.makeOneRelation(t,this.parent)}load(t,e,r,n){const o=this.getRelation(t,this.parent.entity,n);this.addEagerConstraints(o,e),this.match(e,o.get(),r)}addEagerConstraints(t,e){t.whereFk(this.ownerKey,this.getKeys(e,this.foreignKey))}match(t,e,r){const n=this.buildDictionary(e);t.forEach((t=>{const e=t[this.foreignKey],o=null!==e?n[e]:null;t[r]=o||null}))}buildDictionary(t){return t.reduce(((t,e)=>(t[e[this.ownerKey]]=e,t)),{})}}class ke extends Ie{constructor(t,e,r,n){super(t),this.related=this.model.relation(e),this.foreignKey=r,this.localKey=n}define(t){return t.many(this.related)}attach(t,e,data){t.forEach((t=>{const r=data[this.related.entity];r&&r[t]&&void 0===r[t][this.foreignKey]&&(r[t][this.foreignKey]=e[this.localKey])}))}make(t,e,r){return this.makeManyRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n);this.addEagerConstraints(o,e),this.match(e,o.get(),r)}addEagerConstraints(t,e){t.whereFk(this.foreignKey,this.getKeys(e,this.localKey))}match(t,e,r){const n=this.buildDictionary(e);t.forEach((t=>{const e=t[this.localKey],o=n[e];t[r]=o||[]}))}buildDictionary(t){return t.reduce(((t,e)=>{const r=e[this.foreignKey];return t[r]||(t[r]=[]),t[r].push(e),t}),{})}}class Ee extends Ie{constructor(t,e,r,n){super(t),this.parent=this.model.relation(e),this.foreignKey=r,this.ownerKey=n}define(t){return t.many(this.parent)}attach(t,e,r){0!==t.length&&(e[this.foreignKey]=t.map((t=>this.parent.getIdFromRecord(r[this.parent.entity][t]))))}make(t,e,r){return this.makeManyRelation(t,this.parent)}load(t,e,r,n){const o=this.getRelation(t,this.parent.entity,n);this.addConstraintForHasManyBy(o,e);const h=this.mapSingleRelations(o.get(),this.ownerKey);e.forEach((t=>{const e=this.getRelatedRecords(h,t[this.foreignKey]);t[r]=e}))}addConstraintForHasManyBy(t,e){const r=e.reduce(((t,e)=>t.concat(e[this.foreignKey])),[]);t.where(this.ownerKey,r)}getRelatedRecords(t,e){const r=[];return t.forEach(((t,n)=>{-1!==e.indexOf(n)&&r.push(t)})),r}}class Se extends Ie{constructor(t,e,r,n,o,h,l){super(t),this.related=this.model.relation(e),this.through=this.model.relation(r),this.firstKey=n,this.secondKey=o,this.localKey=h,this.secondLocalKey=l}define(t){return t.many(this.related)}attach(t,e,r){}make(t,e,r){return this.makeManyRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n),h=t.newQuery(this.through.entity);this.addEagerConstraintForThrough(h,e);const l=h.get();this.addEagerConstraintForRelated(o,l);const c=this.mapThroughRelations(l,o);e.forEach((t=>{const e=c[t[this.localKey]];t[r]=e||[]}))}addEagerConstraintForThrough(t,e){t.where(this.firstKey,this.getKeys(e,this.localKey))}addEagerConstraintForRelated(t,e){t.where(this.secondKey,this.getKeys(e,this.secondLocalKey))}mapThroughRelations(t,e){const r=this.mapManyRelations(e.get(),this.secondKey);return t.reduce(((t,e)=>{const n=e[this.firstKey];t[n]||(t[n]=[]);const o=r.get(e[this.secondLocalKey]);return void 0===o||(t[n]=t[n].concat(o)),t}),{})}}class je extends Ie{constructor(t,e,r,n,o,h,l){super(t),this.pivotKey="pivot",this.related=this.model.relation(e),this.pivot=this.model.relation(r),this.foreignPivotKey=n,this.relatedPivotKey=o,this.parentKey=h,this.relatedKey=l}as(t){return this.pivotKey=t,this}define(t){return t.many(this.related)}attach(t,e,r){}make(t,e,r){return this.makeManyRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n),h=t.newQuery(this.pivot.entity);this.addEagerConstraintForPivot(h,e);const l=h.get();this.addEagerConstraintForRelated(o,l);const c=this.mapPivotRelations(l,o);e.forEach((t=>{const e=c[t[this.parentKey]];t[r]=e||[]}))}addEagerConstraintForPivot(t,e){t.whereFk(this.foreignPivotKey,this.getKeys(e,this.parentKey))}addEagerConstraintForRelated(t,e){t.whereFk(this.relatedKey,this.getKeys(e,this.relatedPivotKey))}mapPivotRelations(t,e){const r=this.mapManyRelations(e.get(),this.relatedKey);return e.orders.length?this.mapRelationsByOrders(t,r,this.foreignPivotKey,this.relatedPivotKey):t.reduce(((t,e)=>{const n=e[this.foreignPivotKey];t[n]||(t[n]=[]);const o=r.get(e[this.relatedPivotKey]);return o&&(t[n]=t[n].concat(o.map((t=>(t[this.pivotKey]=e,t))))),t}),{})}createPivots(t,data,e){return me.isArray(this.pivot.primaryKey)?(me.forOwn(data[t.entity],(t=>{const r=t[e];void 0!==r&&0!==r.length&&this.createPivotRecord(data,t,r)})),data):data}createPivotRecord(data,t,e){e.forEach((e=>{const r=t[this.parentKey],n=data[this.related.entity][e][this.relatedKey],o=JSON.stringify([this.pivot.primaryKey[0]===this.foreignPivotKey?r:n,this.pivot.primaryKey[1]===this.foreignPivotKey?r:n]),h=data[this.pivot.entity]?data[this.pivot.entity][o]:{},l=data[this.related.entity][e][this.pivotKey]||{};data[this.pivot.entity]={...data[this.pivot.entity],[o]:{...h,...l,$id:o,[this.foreignPivotKey]:r,[this.relatedPivotKey]:n}}}))}}class Ae extends Ie{constructor(t,e,r){super(t),this.id=e,this.type=r}define(t){return t.union(((t,e)=>e[this.type]))}attach(t,e,r){}make(t,e,r){const n=e[this.type];try{const e=this.model.relation(n);return this.makeOneRelation(t,e)}catch(t){return null}}load(t,e,r,n){const o=this.getTypes(e).reduce(((e,r)=>{const o=this.getRelation(t,r,n);return e[r]=this.mapSingleRelations(o.get(),"$id"),e}),{});e.forEach((t=>{const e=t[this.id],n=t[this.type],h=o[n].get(String(e));t[r]=h||null}))}getTypes(t){return t.reduce(((t,e)=>{const r=e[this.type];return!t.includes(r)&&t.push(r),t}),[])}}class Ce extends Ie{constructor(t,e,r,n,o){super(t),this.related=this.model.relation(e),this.id=r,this.type=n,this.localKey=o}define(t){return t.one(this.related)}attach(t,e,data){const r=data[this.related.entity][t];r[this.id]=r[this.id]||this.related.getIdFromRecord(e),r[this.type]=r[this.type]||this.model.entity}make(t,e,r){return this.makeOneRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n);this.addEagerConstraintForMorphOne(o,e,t.entity);const h=this.mapSingleRelations(o.get(),this.id);e.forEach((t=>{const e=h.get(t[this.localKey]);t[r]=e||null}))}addEagerConstraintForMorphOne(t,e,r){t.whereFk(this.type,r).whereFk(this.id,this.getKeys(e,this.localKey))}}class Me extends Ie{constructor(t,e,r,n,o){super(t),this.related=this.model.relation(e),this.id=r,this.type=n,this.localKey=o}define(t){return t.many(this.related)}attach(t,e,data){const r=data[this.related.entity];t.forEach((t=>{const n=r[t];n[this.id]=n[this.id]||this.related.getIdFromRecord(e),n[this.type]=n[this.type]||this.model.entity}))}make(t,e,r){return this.makeManyRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n);this.addEagerConstraintForMorphMany(o,e,t.entity);const h=this.mapManyRelations(o.get(),this.id);e.forEach((t=>{const e=h.get(t[this.localKey]);t[r]=e||[]}))}addEagerConstraintForMorphMany(t,e,r){t.whereFk(this.type,r).whereFk(this.id,this.getKeys(e,this.localKey))}}class Pe extends Ie{constructor(t,e,r,n,o,h,l,c){super(t),this.pivotKey="pivot",this.related=this.model.relation(e),this.pivot=this.model.relation(r),this.relatedId=n,this.id=o,this.type=h,this.parentKey=l,this.relatedKey=c}as(t){return this.pivotKey=t,this}define(t){return t.many(this.related)}attach(t,e,r){}make(t,e,r){return this.makeManyRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n),h=t.newQuery(this.pivot.entity);this.addEagerConstraintForPivot(h,e,t.entity);const l=h.get();this.addEagerConstraintForRelated(o,l);const c=this.mapPivotRelations(l,o);e.forEach((t=>{const e=c[t[this.parentKey]];t[r]=e||[]}))}addEagerConstraintForPivot(t,e,r){t.whereFk(this.type,r).whereFk(this.id,this.getKeys(e,this.parentKey))}addEagerConstraintForRelated(t,e){t.whereFk(this.relatedKey,this.getKeys(e,this.relatedId))}mapPivotRelations(t,e){const r=this.mapManyRelations(e.get(),this.relatedKey);return e.orders.length?this.mapRelationsByOrders(t,r,this.id,this.relatedId):t.reduce(((t,e)=>{const n=e[this.id];t[n]||(t[n]=[]);const o=r.get(e[this.relatedId]);return void 0===o||0===o.length||(t[n]=t[n].concat(o.map((t=>(t[this.pivotKey]=e,t))))),t}),{})}createPivots(t,data,e){return me.forOwn(data[t.entity],(r=>{const n=t.query().newQuery(this.pivot.entity).where(this.id,r[this.parentKey]).where(this.type,t.entity).get(),o=(r[e]||[]).filter((t=>!n.includes(t)));me.isArray(o)&&0!==o.length&&this.createPivotRecord(t,data,r,o)})),data}createPivotRecord(t,data,e,r){r.forEach((r=>{const n=e[this.parentKey],o=data[this.related.entity][r][this.relatedKey],h=`${n}_${r}_${t.entity}`,l=data[this.related.entity][r][this.pivotKey]||{};data[this.pivot.entity]={...data[this.pivot.entity],[h]:{...l,$id:h,[this.relatedId]:o,[this.id]:n,[this.type]:t.entity}}}))}}class _e extends Ie{constructor(t,e,r,n,o,h,l,c){super(t),this.pivotKey="pivot",this.related=this.model.relation(e),this.pivot=this.model.relation(r),this.relatedId=n,this.id=o,this.type=h,this.parentKey=l,this.relatedKey=c}as(t){return this.pivotKey=t,this}define(t){return t.many(this.related)}attach(t,e,r){}make(t,e,r){return this.makeManyRelation(t,this.related)}load(t,e,r,n){const o=this.getRelation(t,this.related.entity,n),h=t.newQuery(this.pivot.entity);this.addEagerConstraintForPivot(h,e,this.related.entity);const l=h.get();this.addEagerConstraintForRelated(o,l);const c=this.mapPivotRelations(l,o);e.forEach((t=>{const e=c[t[this.parentKey]];t[r]=e||[]}))}addEagerConstraintForPivot(t,e,r){t.whereFk(this.type,r).whereFk(this.relatedId,this.getKeys(e,this.parentKey))}addEagerConstraintForRelated(t,e){t.whereFk(this.relatedKey,this.getKeys(e,this.id))}mapPivotRelations(t,e){const r=this.mapManyRelations(e.get(),this.relatedKey);return e.orders.length?this.mapRelationsByOrders(t,r,this.relatedId,this.id):t.reduce(((t,e)=>{const n=e[this.relatedId];t[n]||(t[n]=[]);const o=r.get(e[this.id]);return void 0===o||0===o.length||(t[n]=t[n].concat(o.map((t=>(t[this.pivotKey]=e,t))))),t}),{})}createPivots(t,data,e){return me.forOwn(data[t.entity],(t=>{const r=t[e];me.isArray(r)&&this.createPivotRecord(data,t,r)})),data}createPivotRecord(data,t,e){e.forEach((e=>{const r=t[this.parentKey],n=`${e}_${r}_${this.related.entity}`,o=data[this.related.entity][e][this.pivotKey]||{};data[this.pivot.entity]={...data[this.pivot.entity],[n]:{...o,$id:n,[this.relatedId]:r,[this.id]:this.model.getIdFromRecord(data[this.related.entity][e]),[this.type]:this.related.entity}}}))}}const Be={relations:!0};function He(t,option={}){option={...Be,...option};const e={},r=t.$fields();for(const n in r){const o=r[n],h=t[n];o instanceof Ie?e[n]=option.relations?ze(h):Ne(h):e[n]=Te(t[n])}return e}function Te(t){return null===t?null:de(t)?t.map((t=>Te(t))):"object"==typeof t?function(t){const e={};for(const r in t)e[r]=Te(t[r]);return e}(t):t}function ze(t){return null===t?null:de(t)?t.map((t=>t.$toJson())):t.$toJson()}function Ne(t){return de(t)?[]:null}class Ve{constructor(t){this.$id=null,this.$fill(t)}static fields(){return{}}static attr(t,e){return new we(this,t,e)}static string(t,e){return new Ke(this,t,e)}static number(t,e){return new xe(this,t,e)}static boolean(t,e){return new Oe(this,t,e)}static uid(t){return new Re(this,t)}static increment(){return console.warn("[Vuex ORM] Attribute type `increment` has been deprecated and replaced with `uid`."),this.uid()}static hasOne(t,e,r){return new Fe(this,t,e,this.localKey(r))}static belongsTo(t,e,r){return new $e(this,t,e,this.relation(t).localKey(r))}static hasMany(t,e,r){return new ke(this,t,e,this.localKey(r))}static hasManyBy(t,e,r){return new Ee(this,t,e,this.relation(t).localKey(r))}static hasManyThrough(t,e,r,n,o,h){return new Se(this,t,e,r,n,this.localKey(o),this.relation(e).localKey(h))}static belongsToMany(t,e,r,n,o,h){return new je(this,t,e,r,n,this.localKey(o),this.relation(t).localKey(h))}static morphTo(t,e){return new Ae(this,t,e)}static morphOne(t,e,r,n){return new Ce(this,t,e,r,this.localKey(n))}static morphMany(t,e,r,n){return new Me(this,t,e,r,this.localKey(n))}static morphToMany(t,e,r,n,o,h,l){return new Pe(this,t,e,r,n,o,this.localKey(h),this.relation(t).localKey(l))}static morphedByMany(t,e,r,n,o,h,l){return new _e(this,t,e,r,n,o,this.localKey(h),this.relation(t).localKey(l))}static mutators(){return{}}static types(){return{}}static store(){return ue.store}static database(){return this.store().$db()}static namespace(t){return`${this.database().namespace}/${this.entity}/${t}`}static getters(t){return this.store().getters[this.namespace(t)]}static dispatch(t,e){return this.store().dispatch(this.namespace(t),e)}static commit(t){this.store().commit(`${this.database().namespace}/$mutate`,{entity:this.entity,callback:t})}static getFields(){return this.cachedFields||(this.cachedFields={}),this.cachedFields[this.entity]||(this.cachedFields[this.entity]=this.fields()),this.cachedFields[this.entity]}static all(){return this.getters("all")()}static find(t){return this.getters("find")(t)}static findIn(t){return this.getters("findIn")(t)}static query(){return this.getters("query")()}static exists(){return this.query().exists()}static new(){return this.dispatch("new")}static create(t){return this.dispatch("create",t)}static insert(t){return this.dispatch("insert",t)}static update(t){return this.dispatch("update",t)}static insertOrUpdate(t){return this.dispatch("insertOrUpdate",t)}static delete(t){return this.dispatch("delete",t)}static deleteAll(){return this.dispatch("deleteAll")}static isPrimaryKey(t){return me.isArray(this.primaryKey)?this.primaryKey.includes(t):this.primaryKey===t}static isCompositePrimaryKey(){return me.isArray(this.primaryKey)}static getIdFromRecord(t){const e=this.primaryKey;if("string"==typeof e)return this.getIdFromValue(t[e]);const r=e.reduce(((e,r)=>{const n=this.getIdFromValue(t[r]);return null!==n&&e.push(n),e}),[]);return r.length===e.length?r:null}static getIdFromValue(t){return"string"==typeof t&&""!==t||"number"==typeof t?t:null}static getIndexIdFromRecord(t){const e=this.getIdFromRecord(t);return null===e?null:me.isArray(e)?JSON.stringify(e):String(e)}static localKey(t){return t||("string"==typeof this.primaryKey?this.primaryKey:"id")}static getModelFromRecord(t){return t instanceof this?t.$self():this.getTypeModel(t[this.typeKey])}static relation(t){return"string"!=typeof t?t:this.database().model(t)}static pivotFields(){const t=[];return me.forOwn(this.getFields(),((e,r)=>{(e instanceof je||e instanceof Pe||e instanceof _e)&&t.push({[r]:e})})),t}static hasPivotFields(){return this.pivotFields().length>0}static hasTypes(){return Object.keys(this.types()).length>0}static getTypeModel(t){const e=this.types()[t];return e||null}static getTypeKeyValueFromModel(t){const e=t||this,r=this.types();for(const t in r)if(r[t].entity===e.entity)return t;return null}static findRelationInSubTypes(t){const e=this.types();for(const r in e){const n=e[r].getFields();for(const e in n)if(e===t&&n[e]instanceof Ie)return n[e]}return null}static hydrate(t){return new this(t).$getAttributes()}$self(){return this.constructor}$primaryKey(){return this.$self().primaryKey}$fields(){return this.$self().getFields()}$setIndexId(t){return this.$id=t,this}$store(){return this.$self().store()}$namespace(t){return this.$self().namespace(t)}$getters(t){return this.$self().getters(t)}async $dispatch(t,e){return this.$self().dispatch(t,e)}$all(){return this.$getters("all")()}$find(t){return this.$getters("find")(t)}$findIn(t){return this.$getters("findIn")(t)}$query(){return this.$getters("query")()}async $create(t){return this.$dispatch("create",t)}async $insert(t){return this.$dispatch("insert",t)}async $update(t){return me.isArray(t)||void 0!==t.where?this.$dispatch("update",t):null===this.$self().getIndexIdFromRecord(t)?this.$dispatch("update",{where:this.$self().getIdFromRecord(this),data:t}):this.$dispatch("update",t)}async $insertOrUpdate(t){return this.$dispatch("insertOrUpdate",t)}async $save(){const t=this.$self().getFields(),e=Object.keys(t).reduce(((e,r)=>(t[r]instanceof be&&(e[r]=this[r]),e)),{}),r=await this.$dispatch("insertOrUpdate",{data:e});return this.$fill(r[this.$self().entity][0]),this}async $delete(){const t=this.$primaryKey();return me.isArray(t)?this.$dispatch("delete",(e=>t.every((t=>e[t]===this[t])))):this.$dispatch("delete",this[t])}async $deleteAll(){return this.$dispatch("deleteAll")}$fill(t={}){const e=this.$fields();for(const r in e){const n=e[r],o=t[r];this[r]=n.make(o,t,r)}void 0!==t.$id&&this.$setIndexId(t.$id)}$generateId(){return this.$generatePrimaryId().$generateIndexId()}$generatePrimaryId(){const t=this.$self().primaryKey;return(me.isArray(t)?t:[t]).forEach((t=>{void 0!==this[t]&&null!==this[t]||(this[t]=ge.make())})),this}$generateIndexId(){return this.$setIndexId(this.$getIndexIdFromAttributes())}$getIndexIdFromAttributes(){return this.$self().getIndexIdFromRecord(this)}$getAttributes(){return function(t){const e=He(t,{relations:!1});return e.$id=t.$id,e}(this)}$toJson(){return He(this)}}Ve.primaryKey="id",Ve.typeKey="type",Ve.state={};function De(){return De=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},De.apply(this,arguments)}var Ue=function(input){return Array.isArray(input)?input:Object.keys(input).map((function(t){return input[t]}))},Le=function(t,input,e,r,n,o,h){return t=function(t){if(Array.isArray(t)&&t.length>1)throw new Error("Expected schema definition to be a single schema, but found "+t.length+".");return t[0]}(t),Ue(input).map((function(l,c){return n(l,e,r,t,o,h)}))},We=function(t,input,e,r,n,o,h){var object=De({},input);return Object.keys(t).forEach((function(e){var r=t[e],l="function"==typeof r?r(input):r,c=n(input[e],input,e,l,o,h);null==c?delete object[e]:object[e]=c})),object},Je=function t(e,r,n,o,h,l){return"object"==typeof e&&e?"object"!=typeof o||o.normalize&&"function"==typeof o.normalize?o.normalize(e,r,n,t,h,l):(Array.isArray(o)?Le:We)(o,e,r,n,t,h,l):e};class qe{static process(t,e){if(me.isEmpty(e))return{};const r=t.database.schemas[t.model.entity];return function(input,t){if(!input||"object"!=typeof input)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===input?"null":typeof input)+'".');var e={},r=function(t){return function(e,r,n,o,h){var l=e.key,c=e.getId(n,o,h);l in t||(t[l]={});var d=t[l][c];t[l][c]=d?e.merge(d,r):r}}(e);return{entities:e,result:Je(input,input,null,t,r,{})}}(e,me.isArray(e)?[r]:r).entities}}class Qe{static process(t,data){return Object.keys(data).forEach((e=>{const r=t.getModel(e);r.hasPivotFields()&&me.forOwn(r.pivotFields(),(t=>{me.forOwn(t,((t,e)=>{t.createPivots(r,data,e)}))}))})),data}}class Ge{static process(t,data){return me.forOwn(data,((e,r)=>{const n=t.getModel(r).fields();me.forOwn(e,(t=>{me.forOwn(t,((e,r)=>{const o=n[r];o instanceof Ie&&null!==e&&o.attach(e,t,data)}))}))})),data}}class Ye{static normalize(t,e){let data=qe.process(t,e);return data=Ge.process(t,data),data=Qe.process(t,data),data}}class Xe{static filter(t,e){return 0===t.wheres.length?e:e.filter((e=>this.check(t,e)))}static check(t,e){const r=me.groupBy(t.wheres,(t=>t.boolean)),n=this.getComparator(t,e);let o=[];return r.and&&o.push(r.and.every(n)),r.or&&o.push(r.or.some(n)),-1!==o.indexOf(!0)}static getComparator(t,e){return r=>{if("function"==typeof r.field){const n=new ni(t.store,t.entity),o=this.executeWhereClosure(n,e,r.field);if("boolean"==typeof o)return o;const h=n.get();return!me.isEmpty(h.filter((t=>t.$id===e.$id)))}return"function"==typeof r.value?r.value(e[r.field]):me.isArray(r.value)?-1!==r.value.indexOf(e[r.field]):e[r.field]===r.value}}static executeWhereClosure(t,e,r){if(3!==r.length)return r(e,t);const n=new t.model(e);return r(e,t,n)}}class Ze{static filter(t,e){if(0===t.orders.length)return e;const r=t.orders.map((t=>t.key)),n=t.orders.map((t=>t.direction));return me.orderBy(e,r,n)}}class ti{static filter(t,e){return e.slice(t.offsetNumber,t.offsetNumber+t.limitNumber)}}class ei{static where(t,e){return Xe.filter(t,e)}static orderBy(t,e){return Ze.filter(t,e)}static limit(t,e){return ti.filter(t,e)}}class ii{static with(t,e,r){"*"!==e?de(e)?e.forEach((e=>this.with(t,e,r))):this.parseWithRelations(t,e.split("."),r):this.withAll(t,r)}static withAll(t,e){const r=t.model.getFields();for(const n in r)r[n]instanceof Ie&&this.with(t,n,e)}static withAllRecursive(t,e){this.withAll(t,(t=>{e>0&&t.withAllRecursive(e-1)}))}static setEagerLoad(t,e,r=null){t.load[e]||(t.load[e]=[]),r&&t.load[e].push(r)}static parseWithRelations(t,e,r){const n=e[0];n.split("|").forEach((n=>{1!==e.length?this.setEagerLoad(t,n):this.setEagerLoad(t,n,r)})),1!==e.length&&(e.shift(),this.addNestedWiths(t,n,e,r))}static addNestedWiths(t,e,r,n){this.setEagerLoad(t,e,(t=>{t.with(r.join("."),n)}))}static eagerLoadRelations(t,e){const r=t.model.getFields();for(const n in t.load){const o=t.load[n];let h=r[n];if(h instanceof Ie)h.load(t,e,n,o);else if(t.model.hasTypes()){const r=t.model.findRelationInSubTypes(n);null!==r&&r.load(t,e,n,o)}}}}class ri{static has(t,e,r,n){this.setHas(t,e,"exists",r,n)}static hasNot(t,e,r,n){this.setHas(t,e,"doesntExist",r,n)}static whereHas(t,e,r){this.setHas(t,e,"exists",void 0,void 0,r)}static whereHasNot(t,e,r){this.setHas(t,e,"doesntExist",void 0,void 0,r)}static setHas(t,e,r,n=">=",o=1,h=null){"number"!=typeof n?t.have.push({relation:e,type:r,operator:n,count:o,constraint:h}):t.have.push({relation:e,type:r,operator:">=",count:n,constraint:h})}static applyConstraints(t){if(0===t.have.length)return;const e=t.newQuery();this.addHasWhereConstraints(t,e),this.addHasConstraints(t,e.get())}static addHasWhereConstraints(t,e){t.have.forEach((t=>{e.with(t.relation,t.constraint)}))}static addHasConstraints(t,e){const r=this.getComparators(t),n=[];e.forEach((t=>{r.every((e=>e(t)))&&n.push(t.$self().getIdFromRecord(t))})),t.whereIdIn(n)}static getComparators(t){return t.have.map((t=>this.getComparator(t)))}static getComparator(t){const e=this.getCountComparator(t.operator);return r=>{const n=this.getRelationshipCount(r[t.relation]),o=e(n,t.count);return"exists"===t.type?o:!o}}static getRelationshipCount(t){return de(t)?t.length:t?1:0}static getCountComparator(t){switch(t){case"=":default:return(t,e)=>t===e;case">":return(t,e)=>t>e;case">=":return(t,e)=>t>=e;case"<":return(t,e)=>t>0&&t<e;case"<=":return(t,e)=>t>0&&t<=e}}}class ni{constructor(t,e){this.appliedOnBase=!0,this.idFilter=null,this.cancelIdFilter=!1,this.joinedIdFilter=null,this.wheres=[],this.have=[],this.orders=[],this.offsetNumber=0,this.limitNumber=Math.pow(2,53)-1,this.load={},this.store=t,this.database=t.$db(),this.model=this.getModel(e),this.baseModel=this.getBaseModel(e),this.entity=e,this.baseEntity=this.baseModel.entity,this.rootState=this.database.getState(),this.state=this.rootState[this.baseEntity],this.appliedOnBase=this.baseEntity===this.entity}static deleteAll(t){const e=t.$db(),r=e.models();for(const n in r){e.getState()[n]&&new this(t,n).deleteAll()}}static on(t,e){const r=++this.lastHookId;return this.hooks[t]||(this.hooks[t]=[]),this.hooks[t].push({id:r,callback:e}),r}static off(t){return Object.keys(this.hooks).some((e=>{const r=this.hooks[e],n=r.findIndex((e=>e.id===t));return-1!==n&&(r.splice(n,1),!0)}))}self(){return this.constructor}newQuery(t){return t=t||this.entity,new ni(this.store,t)}getModel(t){const e=t||this.entity;return this.database.model(e)}getModels(){return this.database.models()}getBaseModel(t){return this.database.baseModel(t)}all(){return this.get()}find(t){const e=this.state.data[this.normalizeIndexId(t)];return e?this.item(this.hydrate(e)):null}findIn(t){if(!me.isArray(t))return[];const e=t.reduce(((t,e)=>{const r=this.state.data[this.normalizeIndexId(e)];return r?(t.push(this.hydrate(r)),t):t}),[]);return this.collect(e)}get(){const t=this.select();return this.collect(t)}first(){const t=this.select();return 0===t.length?null:this.item(this.hydrate(t[0]))}last(){const t=this.select();return 0===t.length?null:this.item(this.hydrate(t[t.length-1]))}exists(){return this.select().length>0}where(t,e){return this.isIdfilterable(t)&&this.setIdFilter(e),this.wheres.push({field:t,value:e,boolean:"and"}),this}orWhere(t,e){return this.cancelIdFilter=!0,this.wheres.push({field:t,value:e,boolean:"or"}),this}whereId(t){return this.model.isCompositePrimaryKey()?this.where("$id",this.normalizeIndexId(t)):this.where(this.model.primaryKey,t)}whereIdIn(t){if(this.model.isCompositePrimaryKey()){const e=t.reduce(((t,e)=>[...t,this.normalizeIndexId(e)]),[]);return this.where("$id",e)}return this.where(this.model.primaryKey,t)}whereFk(t,e){const r=me.isArray(e)?e:[e];return t===this.model.primaryKey?(this.setJoinedIdFilter(r),this):(this.where(t,r),this)}normalizeIndexId(t){if(this.model.isCompositePrimaryKey()){if(!me.isArray(t))throw new Error("[Vuex ORM] Entity `"+this.entity+"` is configured with a composite primary key and expects an array value but instead received: "+JSON.stringify(t));return JSON.stringify(t)}if(me.isArray(t))throw new Error("[Vuex ORM] Entity `"+this.entity+"` expects a single value but instead received: "+JSON.stringify(t));return t}isIdfilterable(t){return(t===this.model.primaryKey||"$id"===t)&&!this.cancelIdFilter}setIdFilter(t){const e=me.isArray(t)?t:[t];null!==this.idFilter?this.idFilter=new Set(e.filter((t=>this.idFilter.has(t)))):this.idFilter=new Set(e)}setJoinedIdFilter(t){null!==this.joinedIdFilter?this.joinedIdFilter=new Set(t.filter((t=>this.joinedIdFilter.has(t)))):this.joinedIdFilter=new Set(t)}orderBy(t,e="asc"){return this.orders.push({key:t,direction:e}),this}offset(t){return this.offsetNumber=t,this}limit(t){return this.limitNumber=t,this}with(t,e=null){return ii.with(this,t,e),this}withAll(t=null){return ii.withAll(this,t),this}withAllRecursive(t=3){return ii.withAllRecursive(this,t),this}has(t,e,r){return ri.has(this,t,e,r),this}hasNot(t,e,r){return ri.hasNot(this,t,e,r),this}whereHas(t,e){return ri.whereHas(this,t,e),this}whereHasNot(t,e){return ri.whereHasNot(this,t,e),this}records(){return this.finalizeIdFilter(),this.getIdsToLookup().reduce(((t,e)=>{const r=this.state.data[e];if(!r)return t;const n=this.hydrate(r);return this.appliedOnBase||this.model.entity===n.$self().entity?(t.push(n),t):t}),[])}finalizeIdFilter(){this.cancelIdFilter&&null!==this.idFilter&&(this.where(this.model.isCompositePrimaryKey()?"$id":this.model.primaryKey,Array.from(this.idFilter.values())),this.idFilter=null)}getIdsToLookup(){return this.idFilter&&this.joinedIdFilter?Array.from(this.idFilter.values()).filter((t=>this.joinedIdFilter.has(t))):this.idFilter||this.joinedIdFilter?Array.from((this.idFilter||this.joinedIdFilter).values()):Object.keys(this.state.data)}select(){ri.applyConstraints(this);let t=this.records();return t=this.executeSelectHook("beforeSelect",t),t=this.filterWhere(t),t=this.executeSelectHook("afterWhere",t),t=this.filterOrderBy(t),t=this.executeSelectHook("afterOrderBy",t),t=this.filterLimit(t),t=this.executeSelectHook("afterLimit",t),t}filterWhere(t){return ei.where(this,t)}filterOrderBy(t){return ei.orderBy(this,t)}filterLimit(t){return ei.limit(this,t)}count(){return this.get().length}max(t){const e=this.get().reduce(((e,r)=>("number"==typeof r[t]&&e.push(r[t]),e)),[]);return 0===e.length?0:Math.max(...e)}min(t){const e=this.get().reduce(((e,r)=>("number"==typeof r[t]&&e.push(r[t]),e)),[]);return 0===e.length?0:Math.min(...e)}sum(t){return this.get().reduce(((e,r)=>("number"==typeof r[t]&&(e+=r[t]),e)),0)}item(t){return Object.keys(this.load).length>0&&ii.eagerLoadRelations(this,[t]),t}collect(t){return t.length<1?[]:(Object.keys(this.load).length>0&&(t=t.map((t=>new(this.model.getModelFromRecord(t))(t))),ii.eagerLoadRelations(this,t)),t)}new(){const t=(new this.model).$generateId();return this.commitInsert(t.$getAttributes()),t}create(data,t){return this.persist("create",data,t)}createRecords(t){return this.deleteAll(),this.insertRecords(t)}insert(data,t){return this.persist("insert",data,t)}insertRecords(t){let e=this.mapHydrateRecords(t);return e=this.executeMutationHooks("beforeCreate",e),this.commitInsertRecords(this.convertCollectionToRecords(e)),this.executeMutationHooks("afterCreate",e),e}update(data,t,e){if(me.isArray(data))return this.persist("update",data,e);if("function"==typeof data){if(!t)throw new Error("You must specify `where` to update records by specifying `data` as a closure.");return"function"==typeof t?this.updateByCondition(data,t):this.updateById(data,t)}if("function"==typeof t)return this.updateByCondition(data,t);if(!t)return this.persist("update",data,e);if(this.model.isCompositePrimaryKey()&&!me.isArray(t))throw new Error("[Vuex ORM] You can't specify `where` value as `string` or `number` when you have a composite key defined in your model. Please include composite keys to the `data` fields.");return this.updateById(data,t)}updateRecords(t){const e=this.hydrateRecordsByMerging(t);return this.performUpdate(e)}updateById(data,t){t="number"==typeof t?t.toString():this.normalizeIndexId(t);const e=this.state.data[t];if(!e)return null;const r=this.hydrate(e),n={[t]:this.processUpdate(data,r)};return this.performUpdate(n),n[t]}updateByCondition(data,t){const e=Object.keys(this.state.data).reduce(((e,r)=>{const n=this.hydrate(this.state.data[r]);return t(n)?(e[r]=this.processUpdate(data,n),e):e}),{});return this.performUpdate(e)}processUpdate(data,t){return"function"==typeof data?(data(t),t):t.constructor!==this.model&&t instanceof Ve?this.hydrate({...t,...data},t.constructor):this.hydrate({...t,...data})}performUpdate(t){t=this.updateIndexes(t);const e=this.buildHooks("beforeUpdate"),r=this.buildHooks("afterUpdate"),n=[];for(const o in t){const h=t[o];e.some((t=>!1===t(h,null,this.entity)))||(this.commitInsert(h.$getAttributes()),r.forEach((t=>{t(h,null,this.entity)})),n.push(h))}return n}updateIndexes(t){return Object.keys(t).reduce(((t,e)=>{const r=t[e],n=String(this.model.getIndexIdFromRecord(r));return e!==n&&(r.$id=n,t[n]=r,delete t[e]),t}),t)}insertOrUpdate(data,t){return this.persist("insertOrUpdate",data,t)}insertOrUpdateRecords(t){let e={},r={};return Object.keys(t).forEach((n=>{const o=t[n];this.state.data[n]?r[n]=o:e[n]=o})),[...this.insertRecords(e),...this.updateRecords(r)]}persist(t,data,e){const r=me.cloneDeep(data),n=this.normalize(r);return me.isEmpty(n)?("create"===t&&this.emptyState(),{}):Object.entries(n).reduce(((r,[n,o])=>{const h=this.newQuery(n),l=this.getPersistMethod(n,e,t),c=h.persistRecords(l,o);return c.length>0&&(r[n]=c),r}),{})}persistRecords(t,e){switch(t){case"create":return this.createRecords(e);case"insert":return this.insertRecords(e);case"update":return this.updateRecords(e);case"insertOrUpdate":return this.insertOrUpdateRecords(e)}}getPersistMethod(t,e,r){return e.create&&e.create.includes(t)?"create":e.insert&&e.insert.includes(t)?"insert":e.update&&e.update.includes(t)?"update":e.insertOrUpdate&&e.insertOrUpdate.includes(t)?"insertOrUpdate":r}delete(t){return"function"==typeof t?this.deleteByCondition(t):this.deleteById(t)}deleteAll(){return this.appliedOnBase?this.deleteByCondition((()=>!0)):this.deleteByCondition((t=>t.$self().entity===this.model.entity))}deleteById(t){const e=this.find(t);return e?this.deleteByCondition((t=>t.$id===e.$id))[0]:null}deleteByCondition(t){let e=this.mapHydrateAndFilterRecords(this.state.data,t);return e=this.executeMutationHooks("beforeDelete",e),0===e.length?[]:(this.commitDelete(e.map((t=>t.$id))),this.executeMutationHooks("afterDelete",e),e)}commit(t,e){this.store.commit(`${this.database.namespace}/${t}`,{entity:this.baseEntity,...e})}commitInsert(t){this.commit("insert",{record:t})}commitInsertRecords(t){this.commit("insertRecords",{records:t})}commitDelete(t){this.commit("delete",{id:t})}normalize(data){return Ye.normalize(this,data)}hydrate(t,e){if(e)return new e(t);const r=this.model.getModelFromRecord(t);if(null!==r)return new r(t);if(!this.appliedOnBase&&void 0===t[this.model.typeKey]){const e=this.model.getTypeKeyValueFromModel();return t={...t,[this.model.typeKey]:e},new this.model(t)}return new(this.getBaseModel(this.entity))(t)}hydrateRecordsByMerging(t){return Object.keys(t).reduce(((e,r)=>{const n=this.state.data[r];if(!n)return e;const o=t[r],h=this.model.getModelFromRecord(n);return null===h?(e[r]=this.hydrate({...n,...o}),e):(e[r]=this.hydrate({...n,...o},h),e)}),{})}mapHydrateRecords(t){return me.map(t,(t=>this.hydrate(t)))}mapHydrateAndFilterRecords(t,e){const r=[];for(const n in t){const o=this.hydrate(t[n]);e(o)&&r.push(o)}return r}convertCollectionToRecords(t){return t.reduce(((t,e)=>(t[e.$id]=e.$getAttributes(),t)),{})}emptyState(){this.deleteAll()}buildHooks(t){const e=this.getGlobalHookAsArray(t),r=this.model[t];return r&&e.push(r.bind(this.model)),e}getGlobalHookAsArray(t){const e=this.self().hooks[t];return e?e.map((t=>t.callback.bind(this))):[]}executeMutationHooks(t,e){const r=this.buildHooks(t);return 0===r.length?e:e.filter((t=>!r.some((e=>!1===e(t,null,this.entity)))))}executeSelectHook(t,e){return this.buildHooks(t).reduce(((t,r)=>r(e,this.entity)),e)}}ni.hooks={},ni.lastHookId=0},563:function(t,e,r){"use strict";r(9),r(11),r(10),r(19),r(20);var n=r(166),o=r(2),h=r(15),l=(r(35),r(68),r(5),r(62),r(36),r(34),r(168),r(12),r(44),r(536),r(454)),c=r(495),d=r(1),f=r(8),y=r(80);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=l.a.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"==typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(d.y)(t).every((function(t){return null!=t&&"object"===Object(h.a)(t)}))}}},computed:{classes:function(){return v(v({},l.a.options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var r=e.size;return t+(void 0===r?0:r)}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(d.p)(e,1024===this.base))},internalArrayValue:function(){return Object(d.y)(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},text:function(){var t=this;return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var r=e.name,n=void 0===r?"":r,o=e.size,h=void 0===o?0:o,l=t.truncateText(n);return t.showSize?"".concat(l," (").concat(Object(d.p)(h,1024===t.base),")"):l})):[this.placeholder]},base:function(){return"boolean"!=typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(f.b)("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.multiple?t:t?[t]:[];Object(d.h)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(text,e){return t.$createElement(c.a,{props:{small:t.smallChips},on:{"click:close":function(){var r=t.internalValue;r.splice(e,1),t.internalValue=r}}},[text])})):[]},genControl:function(){var t=l.a.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(y.c)(t.data.style,{display:"none"})),t},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data.attrs.multiple=this.multiple,delete input.data.domProps.value,delete input.data.on.input,input.data.on.change=this.onInput,[this.genSelections(),input]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(r,n){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[n],file:r,index:n}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=l.a.options.methods.genTextFieldSlot.call(this);return e.data.on=v(v({},e.data.on||{}),{},{click:function(e){e.target&&"LABEL"===e.target.nodeName||t.$refs.input.click()}}),e},onInput:function(t){var e=Object(n.a)(t.target.files||[]);this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"â¦").concat(t.slice(t.length-e))}}})}}]);